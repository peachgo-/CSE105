
\section{Nondeterministic Finite Automaton (NFA)}
% ==================================================

\begin{example}[How many states needed?]
    \[
        L = \set{w \in \set{0,1}^* \mid
            \text{ the $5^{th}$ (from the left) of $w$ is $0$ } }
    \]
    We will need 7 states

    \centgraph{mp/dfa-2.pdf}

    What if
    \[
    L = \set{w \in \set{0,1}^* \mid
        \text{ the $5^{th}$  from the \emph right) of $w$ is $0$} }
    \]

    \centgraph{mp/dfa-3.pdf}
    Notice this is a \textbf{DFA}
\end{example}

\begin{definition}[NFA]
    \label{def:NFA}
    An NFA is a $5$-tuple
    \[
        N = (Q,\Sigma, \delta,s,F)
    \]
    where
    \begin{compactitem}
    \item $Q$ and $\Sigma$ are finite sets
    \item $s \in Q$
    \item $F \subseteq Q$
    \item $\delta \colon
        Q \times \Sigma_\varepsilon
        \footnote{$\Sigma_\varepsilon = \Sigma \cup \set{\varepsilon}$}
        \mapsto \powerset(Q)$

        $\delta(A,\varepsilon) = \set{H}$
        $\delta(D,\varepsilon) = \emptyset$

    \end{compactitem}

\end{definition}

% \begin{definition}[Configurations of NFA]
%     \begin{align*}
%         \Conf  &= Q \times \Sigma^* \\
% 
%         I_M(w) &= (s,w)             \\
% 
%         H_M(w) &= Q \times \set\varepsilon \\
% 
%         O_M(q,\varepsilon)
%         &= \begin{cases}
%             \true,  & if \quad q \in F \\
%             \false, & \text{otherwise}
%             \end{cases}\\
% 
%         R = \set{(q,aw) \mapsto (q',w) \mid
%             \forall q \in Q, a \in \Sigma_\varepsilon, w \in \Sigma^*}
%     \end{align*}
% \end{definition}

In DFA, only one output; 
In NFA, many possible ways from the same input.

    $C_0, C_1, \dots , C_n$
    Computation is a sequence of Configurations, such that $C_0 = I(w)$
    $\forall i, (C_i, C_{i+1} \in \mathbb{R})$ \\
    $[C_i \mapsto C_{i+1}], C_n \in H $ \\
% ---------------------------------------------------------------------
    \newpage

    \fbox{ 
    Accepting if $O(C_n)$ = \true 
    Rejecting if $O(C_n)$ = \false 
}

\begin{definition}[Language of NFA]
    \[
        L(N) = \set{w \mid \exists \text{accepting computation on input $w$} }
    \]
\end{definition}

\begin{theorem}
    \label{thm:NFA_to_DFA}
    \[
        \forall \NFA,\,
        \exists \text{\upshape DFA} \quad M = \lst{ Q', \Sigma', \delta', s', F'} \text{s.t.}
        L(N) = L(M)
    \]
\end{theorem}

\begin{proof}[Proof of \autoref{thm:NFA_to_DFA}]
    \begin{align*}
        Q' &= \powerset(Q) \\
        F' &= \set{ A \subseteq Q \mid A \cap F \neq \varnothing} \\
        s' &= E(\set{s})  = \set{q \in Q \mid \exists s
                                                \xrightarrow\varepsilon q_1
                                                \xrightarrow\varepsilon q_2
                                                \xrightarrow\varepsilon q_3
                                                \cdots 
                                                \xrightarrow\varepsilon q_n
        } \\
        \delta'(A, a) &= E( \operatorname*\cup_{q \in A} \delta (q,a) )
    \end{align*}
\end{proof}
